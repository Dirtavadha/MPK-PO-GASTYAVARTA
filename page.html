<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gastyavarta 2026 â€” Memory Letter</title>
<style>
  /* ===== Body & Background ===== */
  body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    background: url('background.jpg') no-repeat center center fixed;
    background-size: cover;
    overflow: hidden; /* scroll dinonaktifkan awal */
  }

  .envelope-container {
    height: 100vh; /* full viewport height */
    display: flex;
    flex-direction: column;
    justify-content: center; /* vertikal */
    align-items: center;     /* horizontal */
    width: 100%;
    box-sizing: border-box;
    padding: 20px;
    transition: all 0.3s ease;
  }

  /* ===== Amplop ===== */
  .envelope {
    width: 340px;
    height: 230px;
    background: #c84b42;
    border-radius: 6px;
    position: relative;
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    cursor: pointer;
    transition: transform 0.3s ease, opacity 0.5s ease;
    overflow: hidden;
    z-index: 10;
  }
  .envelope:hover { transform: scale(1.03); }
  .flap {
    position: absolute;
    width: 100%;
    height: 50%;
    top: 0; left: 0;
    background: #d47373;
    clip-path: polygon(0 0, 50% 100%, 100% 0);
    transform-origin: top;
    transition: transform 1s ease;
    z-index: 2;
  }
  .logo-seal {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%,-50%);
    width: 90px; height: 90px;
    border-radius: 50%;
    background: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 3;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }
  .logo-seal img { width: 80px; height: 80px; object-fit: contain; border-radius: 50%; }

  /* ===== Click Text ===== */
  .click-text {
    margin-top: 15px;
    color: rgba(255,255,255,0.85);
    font-size: 1.2rem;
    letter-spacing: 1px;
    animation: pulse 1.8s infinite;
    text-shadow: 0 0 10px rgba(255,255,255,0.7);
    user-select: none;
    text-align: center;
    transition: opacity 0.8s ease;
  }
  .click-text.fade-out { opacity: 0; }
  @keyframes pulse { 0%,100%{opacity:0.4;transform:scale(1);}50%{opacity:1;transform:scale(1.05);} }

  /* ===== Letter ===== */
  .letter {
    position: relative;
    margin-top: 20px;
    width: 320px;
    max-height: 80vh;
    background: #fffaf3;
    border-radius: 10px;
    padding: 24px 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    opacity: 0;
    transform: translateY(120%);
    transition: all 0.8s ease;
    overflow-y: auto;
    z-index: 5;
  }
  .letter.show {
    opacity: 1;
    transform: translateY(0);
  }
  .letter img {
    display: block;
    margin: 0 auto 15px;
    width: 110px;
  }

  /* ===== Message (paper texture) ===== */
  .message {
    font-size: 14px;
    color: #333;
    text-align: justify;
    line-height: 1.6;
    white-space: pre-line;
    background: url('paper.jpg') no-repeat center center;
    background-size: cover;
    padding: 15px;
    border-radius: 8px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
    margin-bottom: 20px;
  }

  /* ===== Group Photo ===== */
  .group-photo {
    margin-top: 25px;
    display: flex;
    justify-content: center;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.8s ease;
  }
  .group-photo.show {
    opacity: 1;
    transform: translateY(0);
  }
  .group-photo img {
    width: 220px;
    max-width: 90%;
    padding: 10px 10px 30px 10px;
    background: #fff;
    border: 1px solid #ddd;
    box-shadow: 0 8px 15px rgba(0,0,0,0.3);
    transform: rotate(-2deg);
    border-radius: 5px;
  }

  /* ===== Buttons ===== */
  .buttons {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin-top: 25px;
    opacity: 0;
    transform: translateY(30px);
  }
  .buttons.show { animation: fadeUp 1s forwards; animation-delay: 0.5s; }
  @keyframes fadeUp { 0% { opacity:0; transform:translateY(30px);} 100%{opacity:1; transform:translateY(0);} }

  .wax-button {
    width: 60px; height: 60px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #4975a4, #568bc8);
    box-shadow: inset 0 2px 6px rgba(235,235,235,0.2),0 6px 15px rgba(0,0,0,0.3);
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .wax-button:hover { transform:translateY(-5px); box-shadow: inset 0 2px 10px rgba(255,255,255,0.3),0 8px 20px rgba(0,0,0,0.4);}
  .wax-button img { width: 30px; height: 30px; filter: invert(100%) brightness(200%); }

  /* ===== Responsive ===== */
  @media (max-width:480px){
    .envelope{width:300px;height:200px;}
    .letter{width:280px;}
    .letter img{width:100px;}
    .buttons{gap:18px;}
    .wax-button{width:55px;height:55px;}
    .group-photo img{width:180px;}
  }
</style>
</head>
<body>

<div class="envelope-container">
  <!-- Amplop -->
  <div class="envelope" id="envelope">
    <div class="flap" id="flap"></div>
    <div class="logo-seal"><img src="LOGO.png" alt="Logo Gastyavarta"></div>
  </div>

  <p class="click-text" id="click-text">Click to open</p>

  <!-- Letter -->
  <div class="letter" id="letter">
    <img src="LOGO.png" alt="Logo Gastyavarta">
    <div class="message" id="message"></div>

    <div class="group-photo" id="group-photo">
      <img src="Sampel Bersama.jpg" alt="Foto Bersama Angkatan 2026">
    </div>
  </div>

  <!-- Buttons -->
  <div class="buttons" id="buttons">
    <div class="wax-button" onclick="window.location.href='photos.html'">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/camera.png" alt="Foto" />
    </div>
    <div class="wax-button" onclick="window.location.href='videos.html'">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/video.png" alt="Video" />
    </div>
    <div class="wax-button" onclick="window.location.href='spotify.html'">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/spotify.png" alt="Spotify" />
    </div>
    <div class="wax-button" id="reset-envelope-btn">
      <img src="https://img.icons8.com/?size=100&id=63489&format=png&color=ffffff" alt="Reset Amplop" />
    </div>
  </div>
</div>

<script>
const envelope = document.getElementById('envelope');
const flap = document.getElementById('flap');
const letter = document.getElementById('letter');
const messageEl = document.getElementById('message');
const buttons = document.getElementById('buttons');
const clickText = document.getElementById('click-text');
const groupPhoto = document.getElementById('group-photo');

const messageText = `Dear Kakak-Kakak Gastyavarta 2026,

Terima kasih atas setiap tawa, lelah, dan semangat yang telah kalian bagi. Kami tidak hanya belajar tentang organisasi, tapi juga tentang arti kebersamaan, tanggung jawab, dan persaudaraan.

Kami akan selalu mengingat langkah-langkah kecil yang membawa kita sejauh ini. Semoga perjalanan kalian berikutnya lebih indah dari sebelumnya.

Dengan cinta dan hormat,
Adik-adik MPK/PO Angkatan Dirtavadha.`;

// Fungsi mengetik teks
function typeText(text, callback){
  let i = 0;
  messageEl.textContent = '';
  function type(){
    if(i < text.length){
      messageEl.textContent += text.charAt(i);
      i++;
      setTimeout(type,30);
    } else if(callback){ callback(); }
  }
  type();
}

// ===== Open Envelope =====
function openEnvelope(){
  clickText.classList.add('fade-out');
  flap.style.transform = 'rotateX(180deg)';
  setTimeout(()=>{ clickText.style.display='none'; },800);

  setTimeout(()=>{
    envelope.style.transition = 'opacity 0.5s ease';
    envelope.style.opacity = '0';
    setTimeout(()=>{ envelope.style.display = 'none'; },500);

    letter.classList.add('show');
    document.body.style.overflowY = 'auto'; // scroll aktif saat letter muncul

    typeText(messageText, ()=>{
      groupPhoto.classList.add('show');
      buttons.classList.add('show');
      localStorage.setItem('letterOpened','true');
    });
  },1000);
}

// Klik amplop
envelope.addEventListener('click', openEnvelope);

// ===== Reset Envelope =====
document.getElementById('reset-envelope-btn').addEventListener('click', ()=>{
  localStorage.removeItem('letterOpened');

  envelope.style.display = 'flex';
  envelope.style.opacity = '1';
  flap.style.transform = 'rotateX(0deg)';

  letter.classList.remove('show');
  groupPhoto.classList.remove('show');
  buttons.classList.remove('show');
  clickText.style.display = 'block';
  clickText.classList.remove('fade-out');
  messageEl.textContent='';

  document.body.style.overflowY = 'hidden'; // scroll dinonaktifkan saat amplop tertutup
});

// ===== Load halaman =====
document.addEventListener('DOMContentLoaded',()=>{
  if(localStorage.getItem('letterOpened')==='true'){
    envelope.style.display='none';
    clickText.style.display='none';
    flap.style.transform='rotateX(180deg)';
    letter.classList.add('show');
    messageEl.textContent=messageText;
    groupPhoto.classList.add('show');
    buttons.classList.add('show');
    document.body.style.overflowY = 'auto';
  }
});
</script>
</body>
</html>
